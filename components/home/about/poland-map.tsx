import { m } from "framer-motion";
import { useState } from "react";

interface City {
    id: string;
    name: string;
    x: number;
    y: number;
}

const CITIES: City[] = [
    { id: "waw", name: "Warszawa", x: 635, y: 410 },
    { id: "wro", name: "Wrocław", x: 305, y: 610 },
    { id: "szc", name: "Szczecin", x: 85, y: 230 },
    { id: "zie", name: "Zielona Góra", x: 165, y: 485 },
    { id: "glo", name: "Głogów",   x: 215, y: 545 },
    { id: "wol", name: "Wołomin",  x: 675, y: 390 },
    { id: "lub", name: "Lublin",   x: 785, y: 545 },
    { id: "byd", name: "Bydgoszcz", x: 395, y: 260 },
    { id: "zar", name: "Żary",     x: 125, y: 535 },
];

export default function EpicPolandMap() {
    const [hoveredCity, setHoveredCity] = useState<string | null>(null);
    const globalOffset = { x: -35, y: -25 };
    return (
        <div className="relative flex items-center justify-center w-full overflow-hidden">
            <m.svg
                aria-hidden={true}
                className="h-full w-full text-[#797AFF]"
                fill="none"
                viewBox="-20 0 950 867"
                xmlns="http://www.w3.org/2000/svg"
            >
                <m.path
                    className="drop-shadow-[0_0_15px_rgba(37,99,235,0.5)]"
                    d="M429.7 792L430.1 789.7L429.9 786.8L428.6 780.8L428.2 779.6L427.1 777.1L426.7 775.8L426.1 770.9L425.7 769.8L424.3 768.8L422.9 769.1L421.5 769.7L420.2 769.8L419 769.1L417.2 767L416.1 766L414.8 765.6L412 765.4L410.8 764.5L410.2 763.5L409.3 759.4L407.1 755L405.6 750.7L405.5 747L408 744.1L405.6 742.8L405.2 741L405.5 738.9L404.9 736.3L403.5 735.5L400 737.8H397.9L391.1 734.1L387.6 732.8L384 733.3H384.2H384.3L384.4 733.5L384.5 733.7L382 736L380.7 736.2L378.9 734.7L378.4 733.8L377.7 731.6L377.4 730.8L376.3 730L374.2 729.6L373.1 729.1L370.2 726.6L368.8 725.9L363.1 724.8L361.9 723.4L362.5 720.8L357.2 717.3L355.9 717L354.4 716.6L354.8 719.8L355.3 720L356 719.8H356.8L357.4 720.8L357.5 722.2L357.1 722.8L354.1 723.7L350.5 723.8L348.8 724.2L346.2 726.6L342.9 727.6L339.6 726.9L333.7 721.1L332.7 719.7L332 718L331.5 716.2L330.8 714.7L329.8 713.5L329 712.6L328.7 711.8L329 711L329.8 710.3L329.9 710.2V710.1V710L329.8 709.8L328.6 709.5L326.1 708.3L324.9 708L323.9 708.2L323.2 708.7L322.2 708.8L320.8 708.2L316.4 702.6L316.2 701.6L316.9 700.1L317.9 699.6L322.3 699.5L324.7 698.5L328.6 696.2L330.4 694.6L331.2 692.5L329.8 689.8L328.9 688.9L328.7 687.4L328.8 686.1L329.8 683.5L330 683L330.1 682.6V682.2L329.8 681.9L328.2 679.7L327.7 679.2L326.1 678.6L325.5 679L325.3 680L324.8 681.1L322.1 684.8L320.5 686.1L318.4 686.7L310.3 685.2L306 685.6L303.3 688.9L302.9 689.2L302.4 689.3L301.9 689.2L301.4 688.9L300.6 686.2L298.6 684.6L296.6 684.8L295.6 687.4L294.4 686.5L293.8 685L293.6 683.2L293.7 681.4L293.3 681L292.9 680.6L292.6 680.1L292.4 679.6L294 678.9L292.2 678.1L287.9 678.2L285.7 677.6L282.5 675.6L281.7 674.6L281.1 673.4L280.5 671.5L280.2 670L280.4 669.6L279.4 669.3L276.6 669.8H275.4L274.2 669.2L272.1 667.4L271.1 666.8L261.8 664.2L259.7 664.4L258.3 663.6L255.8 662.1L253.7 661.8L251.2 663.3V665.3L254.2 669.6L255.2 672.2L255.9 675.3L256.7 678L258.4 679.8L260.7 681.1L262.3 682.9L263.3 685.4L263.4 688.9L264.6 690.4L264.8 692.3L264.2 693.5L263.1 693.1L262.1 691.7L261.7 690.8L261.1 690.4H259.8L259.6 690.8V692.5L259.4 693L258.5 693.1L256.9 692.5H256.1L255 693.3L253.5 695.4L252.6 696.1L251.6 696.4L250.5 696.7L248.7 696.5L246.9 696.8L244.8 698.6L243.2 701L242.2 703L241.1 704.5L239.1 706L236.3 709.8L232.6 710.1L228.8 708.1L225.7 705.2L224.1 703.1L223.2 701.3L222.2 696.5L221.2 693.8L218.5 691L217.3 688.9L216 687.1L213.7 682.9L212.4 681L210.4 679.6L206.3 678.1L204.7 676L204.5 674.7L204.6 673.4L204.5 672.1L203.9 670.8L203 670.5H198.9L197.8 670.9L197.2 671.4L196.5 671.6L195.3 670.6L194.9 669.8L193.7 666.2L190.8 665.6L189.9 663.1L190.6 660.8L192.5 661.2L192.3 660.8L191.8 659.2H192.4L193.2 658.6L193.7 658.4L195.1 657.3L196.7 656.3L198.1 655.1L198.8 653.3L200.2 652.8L203.1 653.6L204.7 653.3L205.5 652.1L207.4 650.3L208.2 649.2H207.9V648.4L208 647.3L208.2 646.6L208.6 645.8L208.8 645.4V644.9L208.5 643.8L211.3 642.6L210.5 639.9L202.8 631.7L200 630.1L197 629.4L193.7 629.3L192.6 629.5L191.9 631L191.2 632.8L190.1 634.2L188.6 634.5L187.2 633.9L184.4 631.7L180.5 631.3L174.9 636.8L171 637.5L170.9 637L170.8 636.6L170.9 636.1L171 635.7L172.3 634.6L172.6 632.9L172.1 630.9L171.3 629L170.1 626.7L168.9 625.6L167.4 625.3L162 627.4H159.5L158.9 627.2L154.3 619.4L154 618.5L153.8 617.6L151.6 617.3L144 619.2L143.1 618.9L142.4 618.2L141.2 616.4L140.2 615.7L122 609.3L118.3 609.6L117.4 610.7L116.5 612.2L115.5 613.3L115.4 613.2L114.3 612.9L113.7 611.7V610.3L114 608.9V607.5L112.9 604.8L111.5 603.6L109.9 602.9L108.1 601.5L107.1 599.9L106 597.5L105.2 595L104.9 592.9L105.5 590.3L106.3 588.8L106.4 587.4L105 585L102.6 583.8L97.4 583.7L96.5 581.6L96.1 579.4L95 578.9L93.9 579.7L93.1 581.6L92.8 583.1L91.7 583.3L90.5 582.7L89.4 581.6L88.6 580.2L84 579.2L82.3 577.6L82.1 578.8L81.6 579.4L80.3 580.4L79.8 580.5L79.3 580.8L78.8 581.1L78.4 581.6L78.8 583.3L80.3 584.4L81.6 586.4L81.7 590.6L81.5 591.4L80.6 592.4L80.3 592.9L80.2 593.7L80.3 594.2L80.4 594.6L80.5 599.6L80.3 600.9L70 600.1L66.7 601L64.7 600.9L64.8 598.3L66 596.1L69.3 592.5L73.8 581.6L77.9 571.3L78.2 569.7V566.9L78.3 565.5L78.8 564.5L79.5 563.8L80.1 562.8L80.3 561L80.4 557.3L81.2 553.3L82.4 549.4L83.9 546.3L83.6 545.9L83.2 545.5L83.7 541.3L82.4 538.4L80.3 536L78.7 533.1L78.4 532.1L78 529.4V529.3L77.5 523.1L77.1 519.3L77.9 517.5L77 515.5L75.3 513.7L73.9 512.6L71.8 511.6L67.6 510.4L65.5 509.2L63.6 507.8L57.6 505.8L55.6 503.7L55.3 502.1L55.1 501.1L55.9 498.3L57.6 495.4L58.7 492.5L58.6 488.7L57.7 485L56.5 482.4L52.1 478.8L50 476.4L49.1 472.6L48.8 468.8L47.5 467.1L45.9 465.9L44.4 463.6L44.1 460.5L45.3 458L50.5 452.7L52.2 450.4L53.6 447.8L54.3 444.9L54.6 435.9L55.1 434.5L57.1 430.9L57.5 429.5L57.6 428.2L57.9 426.8L58.6 425.6L60.3 423.5L54.4 419.1L53.5 416.9L54 413.1L55 410.4L55.4 408.3L54.1 406.2V405.3L55.8 403L55.9 399.9L54.4 397.3L51.9 396.2L49.3 395.6L46.2 394L44.2 391.7L44.8 389L42.9 384.7L40.7 378.2L40.2 372.3L44.9 368.2L47.1 364.7L48.6 361.2L48.2 359.6L46.5 358L47.2 354.6L49.7 349.2L46.9 346.9L46.4 346.3L41.1 340.4L35.7 338.2L33.1 334.6L31.3 333.8L30.4 332.9L27.3 326.8L25.9 325.1L16.2 318L13.8 316.6L10.8 313.1L9 312.3L7 312.2L5.1 311.6L3.5 310.3L2.5 308.2L4.9 306.1L5.8 304.3L6.2 301.5L6 299.6L4.9 294.2L4.3 292.7V291.8L8.7 288.5L14.2 285.6L19.6 281.3L22.4 278.4L23.6 275.7L23.8 274.4L26.6 265.9L26.4 263.7L25.8 261.5L25.5 259.1L25.7 257.1L26.4 255.2L27.3 253.9L28.3 253.3L28.9 252.3L31.3 247.7L30.1 246.6L29.7 245.7L28.4 244.5L27.8 243.6L27.5 242.1V239.3L27.3 238L26.7 235.2L24.8 226.3L23.9 218.4L22 215.2L21 212L18.8 208.6L18.2 205.5L18.1 202.1L18.3 196.5L18.2 195L16.3 189.1L14.9 186.1L15.3 183.7L15.2 179.4V179.3L16 179.2L17.7 178.5L18.9 177.4L19 176.2L17.4 175.1L18.3 174.5L18.6 174L18.3 173.5L17.4 173L17.9 171.8L18.8 172.6L20.1 173.3L21.2 174.1L22.2 177.1L23.5 178.1L26 179.2L27.8 181.2L28.8 182L32.8 182.7L37.7 184.5L39.4 185.8L40.8 187.8L43.8 193.5L44.8 194.9L45.3 194.5L45.4 192L45.8 190.6L46.6 189.6L47.8 188.7L47.7 188.1V187.5L47.8 186.6L46.8 186.3L44.5 186.1L43.5 185.5L40.7 178.7L41.2 175.3L43.5 168.7L44.5 169.6L45.4 169.3L46.4 168.8L47.8 168.7L47.2 164.8L47.5 161.7L48.1 159L48.4 156.1H47.8L47.6 157.9L46.9 159.1L44.7 161.3L45.3 162.4L44.5 162.1L43.8 161.6L43.3 161.1L42.8 160.3L43.3 159.8L44.1 158.7L44.7 158.2L43.5 155.6L41.3 154.3L31.2 153.3L29.8 151.7L31 148.7L30.7 148.4H30.6V148.2L30.4 147.7L29.5 149.2L28.8 149.4L28 149L26.9 148.7L26.2 149L25.5 149.8L24.9 150.8L24.2 151.8L26.9 152.3L28.3 153L29.1 154L28.9 155.9L28 157.2L26.8 157.7L26 157.1L23.5 158.7L22.3 159.1L21 159.2V160.3L22.2 160.8V161.1L21 161.3L20.1 161.2L18.7 160.5L17.6 160.3L16.1 159.3L11.8 152.9L9.6 152H9.4L8.7 149.6L7.1 147.6L8 147.4L8.7 146.8L10.3 142.7L11.8 143.4L12.8 144.2L15.5 145.3L24.5 146L28.1 145.3L31.6 143.4L38.2 138.6L62.2 127.9L82.9 122.4L108.1 111.7L124.5 107.3L142.4 102.5L160 94.5L174.6 92.7L184.6 89.3L183.5 90.4L179 92.5L180.9 93.9L188.9 92.5V91.5H188.3V90.4H192.6V89.6L192.5 89.5H192.3L192 89.3L192.2 86.8L190.1 86.7L185.2 88.2L188.3 86.7L192.1 84.2L197.7 77.6L196.5 79.9L194.5 82.1L193.7 83.2L194.5 82.9L196.2 82.6L197.6 82L198.9 80.5L202.1 79L203.2 77.6L202.2 75.3H200.4L199.6 76.3L198.2 77.6L202.1 70.9L212.6 57.4V58.3L212.1 59.9L213 60.3L214.5 59.7L215.6 58.3L216.2 56.2L215.7 55.6L214.5 56.1L213.2 57.4L215 53.6L218.2 50.5L224.4 46.6L243.3 43.8L250.7 40.9L254.5 40.2L258 39L266.7 29.4L294 16.5L328.4 10L343.8 4.7L368 2.5H382.9L385 3.2L388.2 6.1L389.5 6.8L391.4 7.2L422.4 25.8L428 33.1L428.9 34.9L429.9 37.3V39.4L428.3 40.2L427.9 39.7L427.5 38.5L426.9 37.4L425.3 36.2L424.2 33.3L422.7 31.4L418.4 24L417.5 23.6L414.3 23L413.5 22.6L412.7 21.2L410.1 20.3L404.7 16.5L399.4 13.9L398.5 12.7L395.6 10.4L394.8 10.1L393.7 10.6L393.1 11.4L391.8 15.9L391.6 16.9V19.2L392.1 19.8L394.3 20.8L394.8 21.4L395.9 23.3L397.2 26.2L397.1 27.4L396.8 28.4V29.4L397.9 30.6L397.3 33.6L398.4 34.9L400.1 34.6L401.6 32.6L401.1 35.2L401.8 37.3L402.9 39L405.2 46.2L405.9 47.7L405.6 51.3V57.4L406.2 63.3L407.5 65.9L408.9 66.4L411.7 68.5L413.1 69L414.3 69.1L415.9 69.6L417.1 70.4L417.7 71.8L419.2 74L434.5 78.9L437.9 79.2L440.7 77.6L441.5 78.4L442.6 79L445.1 79.7L479.1 74.6L486.6 71L490.2 70.2L493.1 68.8L498.6 63L500.2 62.3L502.1 63.9L506.6 65.4L513.7 65.8L532.4 66.8L567.6 68.7L593.8 70.1L620 71.5L652.4 73.2L691.8 75.3L717 76.7L742.2 78L763.4 79.1L780.5 80L786.7 78L788.4 76.6L790.7 72.3L790.8 72.1L793.1 71L795 71.3L800.5 74.1L801.4 74.2L803.5 73.8L804.4 74L805.4 75L805.9 76.2L806.3 77.4L806.9 78.4L807.9 79.1L811 79.5L811.6 80.3L811.3 81.8L810.7 83.6V85.2L812.4 87.5H814.4L816.6 86.6L818.4 86.2L820.1 87L825.7 91.7L829.2 93.8L836.5 96.6L838.3 98.2L840 99.6L840.9 101L842.5 104.1L843.3 105.3L844.3 106L846.2 106.5L847.1 107L848.6 109.2L849.8 112.3L850.8 115.8L851.5 119.1L852.8 126.3L852.9 129.8L851.5 132.2L850.4 133.1L849.9 133.7L849.5 134.4L849.4 136L849.8 137.4L850.6 138.6L851.5 139.4L852.1 140L852.3 140.8V141.7L851.9 142.6L852 147.1L852.9 150.8L854.1 154.4L855.1 158.3L855.9 166.4L856.9 169.6L859.1 172.8L859.3 182.3L861.4 192.9L869.1 216.7L873.4 225.6L875.2 230.4L878.9 244.8L880.5 249.1L882.1 251.3L883 253.4L883.7 255.6L884.8 258L886.4 259.8L888 261L888.9 262.8L888.7 266.5L887.9 268.6L886.8 270.5L885.9 272.5L885.8 275.5L886.6 278.1L889.3 281.6L890.4 283.8L890.5 285L890.3 286.8V287.8L891.1 292V293.2L890.8 294.1L889.8 296.1L889.6 297.3L889.7 298.9L890 299.8L890.3 300.6L890.6 301.7L891.3 319.9L891.5 324.4L890.3 330.8L886.7 335.3L874.6 343.6L859.5 347.9L851.4 352.6L843.4 359.3L832.4 376.3L828.7 380.8L827.1 383.4L822.9 392L823.1 392.1L823.8 392.6L824.5 393.2L825.5 394.7L825.8 396.6L825 399.3L827.1 400.6L833.6 402.3L835 401.8L836.2 403L841.8 405.1L843.7 405.3V406.2L843.1 407.6L843.3 407.9L844.6 407.3L845.8 407.9L846.6 408.7L847.4 408.9L848.7 407.3L849.1 408L850 408.8L850.6 409.5L852.1 408L852.4 409.1L852.2 410.9L851.8 411.4L854.3 416.4L856.1 417L860.4 416.9L862.1 417.9L862.7 419.1L863.2 420.3L863.7 421.2L864.6 421.6L865.7 422.3L866 424.1L866.1 425.8L866.9 427.6L868.2 433.2L869.2 435.7L867.8 436.7L866.6 438.6L864.9 442.7L864.3 445.4L864.2 450.2L863.6 451.8L864 452H864.1L864.2 452.2V452.8L863.2 453.5L862.8 456.6L861.8 457.9L863.2 460.5L864.9 462.8L863.9 466.2L862.1 467.9L860.2 469.1L858.7 470.9L858.3 471.9L857.9 473.5L857.4 476.9L857.7 477.6L858.4 478.7L858.6 479.6L857.7 480L857.4 480.4L857.7 481.3L858.2 482.3L858.7 483L857.5 484.4L856.9 484.8L856.1 484.9V486L857.2 487.1L857.3 488.5L856.8 492.5L857.1 494.6L857.9 496.6L859.9 500L859.3 500.1L858.7 500L859.8 502.3L861.2 502.9L862.5 503.6L862.8 505.6L863 506.5L863.6 508.5L865 509.5L866.7 510.1L868 511L866.5 513.9L866.7 514.8L870.4 520.3L871.1 522L870.1 522.5L869.4 523.5L869.3 525L869.9 527L868.2 527.6L866.6 529.3L865.4 531.5L864.9 533.4L865.5 536.5L866.9 537.2L868.6 537.3L870.2 538.3L875.2 549.3L877.3 551.8L881.9 554.7L886.2 559.2L887.2 560.9L885.7 561.7L885.4 563L886.7 565.9L889.1 569.6L889.9 571.5L890.9 577.6V578.5L890.5 579.6L891.2 580.2L892.4 580.6L893.5 581.4L894.5 582.9L894.7 584.1L894.8 585.4L895.3 587.3L896.7 589.6L902.8 595.3L910.4 599.4L911.5 601.2L910.4 603.7L907.7 604.3H904.7L902.8 605.2L900.4 603.8L897.9 604.1L895.8 605.7L894.7 608.2L894.9 610.9L896.2 612.8L898.4 613.8L900.9 614.1V615L899.7 617.5L901 619.7L903.5 621.2L905.9 621.8L905.4 625.1L906.1 628.1L908.4 633.7L906.3 637.4L907.2 644.2L907.9 646L908.3 646.4L908.2 646.8L907.1 648.4L905.4 650.2L899.5 653.3L899.3 655L899.4 657.8L899.3 659.6L898.8 661.2L896.9 665.8L892.1 667.8L875.6 668L872.5 669L870.9 669.8L869.7 671L868.7 673.1L867.6 676.9L867.5 677.1L866.3 678.9L859.1 686.7L856.5 688.9L851.5 692.7L847.4 695.9L826.7 718.4L824 722.7L820.6 725.3L817 729.3L807.2 743.7L803.4 747.7L802.9 748.8L802.2 751.6L801.8 752.7L801 753.4L799.4 754L798.6 754.6L797.7 755.6L792.1 765.8L790.6 767.4L789.6 767.8L787.6 768.2L786.6 769.1L786 770.3L784.4 774.7L777.5 784L775.2 789.4L777 794.4L777.6 796.5L778.2 802.4L778.5 804L778.7 804.8L779.9 806.6L781.9 808.7L782.4 809.8L782.8 812L784 824.7L783.7 826.8L782.2 831L780.9 835.9L779.4 838.9L778.9 840.6L779.5 841.3L779.9 841.1L781.1 839.5L782.5 840.6H782.4L782.1 840.7L785 842.8L787.7 846.3L789.4 847.5L793.4 849.8L794.5 851.2V852.4L793.7 855.1L793.6 857L794 858.3L795.5 860.8L795.6 861.1L795.7 861.6L794.7 863.8L792.9 863L790.8 861.2L789.2 860.3L788.2 860L786.5 857.6L785.6 856.8L784.6 856.6L782.6 857.3L779.3 857L777.4 857.2L775.4 857L773.2 855.4L769.8 851.7L768 851.1L766.1 852.9L762.9 851.4L755.8 851.1L752.5 850.1L747.9 845.4L746 844.7L740.9 844.9L736.7 843.5L736 843L735.8 842.1L736.1 841.2L736 840.2L735 839.1L734.3 839L732.1 839.2H731.2L730.2 838.7L727.2 836.8L720.8 835.6L718.2 833.7L717.6 829.3L716.5 824.4L713.9 820.1L710.6 817L705.7 814.6L702.4 811.5L700.7 810.6L698.9 810.9L697.3 812.3L696 813.9L695.1 814.5L693.7 813.4L690.6 808.7L689.1 807.1L688.2 806.8L686.8 807.1H686.1L685.2 806.4L683.5 804.8L682.6 804.1L680.9 803.7L674.4 804.4L673 805L671.4 805.7L670 805.3L666.7 806H665.2L656.3 803.5L651.2 800.8L650 800.5L648.4 801.6L645.5 805.8L644 807.3L642 807.6L640.6 806.7L639.3 805.2L637.7 804.1L636.3 804L632.6 804.7L631.2 805.4L629.4 807.4L630.5 808.7L632.6 810L633.7 812.1L632.9 813.4L631.3 813.7H629.3L627.9 814L626.1 815.8L623.1 820.2L621.1 821.9L619 822.7L617.3 822.4L615.9 821.3L614.4 819.7L612.7 818.5L611.3 818.3H609.7L607.7 818L606.2 817L598.2 807.3L596.8 807.1L593.3 807.6L591.4 807.3L590.5 807.4L589.6 807.9L588.2 809.7L587.1 810.7L585 811.5L583 811L575.3 807L573.9 807.4V809.8L569.2 809.9L565.5 808.5L564.4 808.6L563.5 809.3L563.2 810.1L563 811.4L562.5 813.4L561.9 815.3L561.4 815.9L554.4 816.6L553 817.3L551.1 819.7L550.2 820.5L548.2 820.3L547.9 820.1L547.4 820.8L545.7 824.7L545.2 826.3L544.6 827.9L543.4 829.2L542.9 834.1L542 837.6L540.2 838.9L537.2 837.5L532.5 833L530 831.7L527.1 832.1L525.4 833.3L523.7 835.1L522.4 836.4L520.4 837.2L516.2 836.9L513.9 836L512.7 834.4L513.1 832.6L516.5 827L516.9 826.6L517.5 826.5L518 826.2L518.3 825.4L518.1 824.8V824.7L517.4 824H517.3L517.2 823.6L515.9 822.7L515.6 822.2L515.7 821.7L516.4 820.6L516.5 820L516 813.3L515.5 811L514.7 808.4V808.3L513.8 807.7L510.8 808.9L509 809.1L507 808.9L501.8 807.1L502 805.5L501.9 803.3L502.1 802.5L502.5 801.6H498.9L497 801.1L495.4 799.9L494.9 798.9L493.5 794.4L491.8 787.4L490.7 784.6L488.6 783.2L487.9 782.4L486.4 779.7L485.6 779.4L485.1 779.2L484.6 779.4L484.2 780.1L476.4 788.8L475.7 789.4L474.4 789.9L473.5 790.1H470.7L468.9 790.4L467.4 791.2L466.1 792.4L464.9 794.4L463.4 798.9L463.6 799.1L463.9 799.5L464.1 800.2L463.8 801.1L463.4 801.4L462.3 801.5H462.1L461.4 804.2L461.2 806L460.5 807.1L457.7 808.2L455.5 808.7L454.5 808.6L453.7 808.1L451.9 806.8L451 806.5L449 807L445.5 809.1L443.2 809.2L441.5 808.9L441 807.3L441.3 802.7L441.1 800.7L440.7 798.8L440.6 796.8L441.4 794.4L438.7 792.8L429.7 792Z"
                    initial={{ pathLength: 0, opacity: 0 }}
                    animate={{ pathLength: 1, opacity: 1 }}
                    transition={{ duration: 4, ease: "easeInOut" }}
                    stroke="currentColor"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    strokeWidth="2.5"
                />

                <m.g
                    initial={{ opacity: 0 }}
                    animate={{ opacity: 1 }}
                    transition={{ delay: 4.5, duration: 1 }}
                    transform={`translate(${globalOffset.x}, ${globalOffset.y})`}
                >
                    {CITIES.map((city) => (
                        <CityMarker
                            key={city.id}
                            city={city}
                            isHovered={hoveredCity === city.id}
                            onHover={() => setHoveredCity(city.id)}
                            onLeave={() => setHoveredCity(null)}
                        />
                    ))}
                </m.g>
            </m.svg>
        </div>
    );
}

interface CityMarkerProps {
    city: City;
    isHovered: boolean;
    onHover: () => void;
    onLeave: () => void;
}

function CityMarker({ city, isHovered, onHover, onLeave }: CityMarkerProps) {
    return (
        <m.g
            className="cursor-pointer pointer-events-auto"
            onMouseEnter={onHover}
            onMouseLeave={onLeave}
            initial={{ scale: 0 }}
            animate={{ scale: 1 }}
            whileHover={{ scale: 1.1 }}
        >
            <m.circle
                cx={city.x}
                cy={city.y}
                alignmentBaseline="hanging"
                r="10"
                fill="rgba(121, 122, 255, 0.3)"
                initial={{ scale: 0.5, opacity: 0 }}
                animate={{
                    scale: [1, 2.5],
                    opacity: [0.5, 0],
                }}
                transition={{
                    duration: 2,
                    repeat: Infinity,
                    ease: "easeOut",
                }}
            />

            <circle
                cx={city.x}
                cy={city.y}
                r="5"
                fill={isHovered ? "#fff" : "#797AFF"}
                className="transition-colors duration-300"
            />

            <m.text
                x={city.x}
                y={city.y + 25}
                textAnchor="middle"
                alignmentBaseline="hanging"
                className="select-none tracking-tight"
                style={{
                    fontSize: '18px',
                    pointerEvents: 'none',
                    fill: isHovered ? "#ffffff" : "#797AFF",
                    transition: "fill 0.2s"
            }}
            >
                {city.name}
            </m.text>

            <circle cx={city.x} cy={city.y} r="40" fill="transparent" />
        </m.g>
    );
}